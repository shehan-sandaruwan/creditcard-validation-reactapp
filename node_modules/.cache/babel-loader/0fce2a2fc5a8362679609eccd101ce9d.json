{"ast":null,"code":"import _classCallCheck from \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shehand/Documents/Noetic-Usecase/creditcard-validator/src/Component/cardDetails.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { connect } from \"react-redux\";\nimport { swapCard } from \"../action/textfield-onclick-action\";\nimport { updateCardValues } from \"../action/update-cardvalue-action\";\nimport { bindActionCreators } from \"redux\";\nimport { creditCardValidator } from \"../service/validator\";\nimport NumberFormat from \"react-number-format\";\n\nvar styles = function styles(theme) {\n  return {\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit\n    },\n    dense: {\n      marginTop: 16\n    },\n    menu: {\n      width: 200\n    }\n  };\n};\n\nvar FilledTextFields =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FilledTextFields, _React$Component);\n\n  function FilledTextFields() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FilledTextFields);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FilledTextFields)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      specialText_cardNumber: \"\",\n      specialText_cardName: \"\",\n      specialText_cardDate: \"\",\n      specialText_carCVC: \"\",\n      error_state: false,\n      cardImage: \"\",\n      cardNumber: 0,\n      error: false\n    };\n\n    _this.handleChange = function (event) {\n      var name = event.target.name;\n      var re = /^[0-9\\b]+$/;\n\n      if ((event.target.value === \"\" || re.test(event.target.value)) && name === \"cardNumber\") {\n        var value = event.target.value;\n        console.log(value);\n        var payload = {\n          name: name,\n          value: value\n        };\n\n        _this.props.updateCardValues(payload);\n      }\n\n      if (name === \"cardName\") {\n        payload = {\n          name: name,\n          value: event.target.value\n        };\n\n        _this.props.updateCardValues(payload);\n      }\n\n      if (name === \"expireDate\") {\n        payload = {\n          name: name,\n          value: event.target.value\n        };\n\n        _this.props.updateCardValues(payload);\n      }\n\n      if (name === \"cardSecurityCode\") {\n        payload = {\n          name: name,\n          value: event.target.value\n        };\n\n        _this.props.updateCardValues(payload);\n      }\n    };\n\n    _this.onKeyDown = function (event) {\n      var name = event.target.name;\n\n      if (event.keyCode === 8) {\n        var payload = {\n          name: name,\n          value: 0\n        };\n\n        _this.props.updateCardValues(payload);\n      }\n    };\n\n    _this.onClickOnTextField = function (event) {\n      var str = _this.props.cardNumber2.toString();\n\n      if (str.length < 16) {\n        console.log(\"onclick\");\n\n        _this.setState({\n          cardImage: \"\",\n          specialText: \"\"\n        });\n      }\n\n      var _id = event.target.id;\n\n      _this.setState({\n        id: _id\n      });\n\n      _this.props.swapCard({\n        id: _id\n      });\n    };\n\n    _this.callValidator = function (event) {\n      var name = event.target.name;\n      var expireDate_str = _this.props.expireDate;\n      var date = \"\";\n\n      if (expireDate_str.length === 4) {\n        for (var i = 0; i < expireDate_str.length; i++) {\n          date += expireDate_str.charAt(i);\n\n          if (i === 1) {\n            date += \"/\";\n          }\n        }\n      }\n\n      var creditCard = {\n        value: _this.props.cardNumber2,\n        name: name\n      };\n\n      var str = _this.props.cardNumber2.toString();\n\n      if (name === \"cardNumber\") {\n        if (!creditCardValidator(creditCard)) {\n          _this.setState({\n            specialText_cardNumber: \"invalid number\",\n            error_state: true,\n            error: true\n          });\n        } else {\n          _this.setState({\n            specialText_cardNumber: \"\",\n            error_state: false\n          });\n\n          if (str.charAt(0) === \"4\") {\n            _this.setState({\n              cardImage: \"https://img.icons8.com/color/48/000000/visa.png\"\n            });\n          }\n\n          if (str.charAt(0) === \"5\") {\n            _this.setState({\n              cardImage: \"https://img.icons8.com/color/48/000000/mastercard.png\"\n            });\n          }\n        }\n      }\n\n      if (name === \"cardName\") {\n        console.log(\"card name\", event.target.value.length);\n\n        if (event.target.value.length === 0) {\n          _this.setState({\n            specialText_cardName: \"Name is required\",\n            error_state: true,\n            error: true\n          });\n        } else {\n          _this.setState({\n            specialText_cardName: \"\",\n            error_state: false,\n            error: false\n          });\n        }\n      }\n\n      if (name === \"expireDate\") {\n        creditCard = {\n          value: date,\n          name: name\n        };\n\n        if (!creditCardValidator(creditCard)) {\n          _this.setState({\n            specialText_cardDate: \"invalid date\",\n            error_state: true,\n            error: true\n          });\n        } else {\n          _this.setState({\n            specialText_cardDate: \"\",\n            error_state: false,\n            error: false\n          });\n        }\n      }\n\n      if (name === \"cardSecurityCode\") {}\n    };\n\n    return _this;\n  }\n\n  _createClass(FilledTextFields, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var cardNum = this.props.cardNumber2.toString();\n      var length_cardNum = cardNum.length;\n      var dateNum = this.props.expireDate.toString();\n      var length_date = dateNum.length;\n      var cvc = this.props.securityCode.toString();\n      var length_cvc = cvc.length;\n      return React.createElement(\"form\", {\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"cardNumber\",\n        label: \"Card Number\",\n        name: \"cardNumber\",\n        type: \"number\",\n        style: {\n          margin: 8\n        },\n        placeholder: \"Placeholder\",\n        fullWidth: true,\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputLabelProps: {\n          shrink: true\n        },\n        onClick: this.onClickOnTextField,\n        onChange: this.handleChange,\n        onBlur: this.callValidator,\n        helperText: this.state.specialText,\n        error: this.state.error_state,\n        onInput: function onInput(e) {\n          e.target.value = Math.max(0, parseInt(e.target.value)).toString().slice(0, 16);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: this.state.cardImage,\n        alt: \"Card-Type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"filled-dense\",\n        label: \"Name\",\n        name: \"cardName\",\n        style: {\n          margin: 8\n        },\n        placeholder: \"Placeholder\",\n        fullWidth: true,\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputLabelProps: {\n          shrink: true\n        },\n        onClick: this.onClickOnTextField,\n        onBlur: this.callValidator,\n        helperText: this.state.specialText,\n        error: this.state.error_state,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"filled-dense\",\n        label: \"Expire Date\",\n        name: \"expireDate\",\n        className: classes.textField,\n        margin: \"normal\",\n        variant: \"outlined\",\n        onClick: this.onClickOnTextField,\n        onBlur: this.callValidator,\n        helperText: this.state.specialText,\n        error: this.state.error_state,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"dense\",\n        label: \"CVC\",\n        name: \"cardSecurityCode\",\n        className: classes.textField,\n        margin: \"normal\",\n        variant: \"outlined\",\n        onClick: this.onClickOnTextField,\n        onBlur: this.callValidator,\n        helperText: this.state.specialText,\n        error: this.state.error_state,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return FilledTextFields;\n}(React.Component);\n\nvar mapActionsToProps = function mapActionsToProps(dispatch, props) {\n  console.log(\"dispatch calling\");\n  return bindActionCreators({\n    swapCard: swapCard,\n    updateCardValues: updateCardValues\n  }, dispatch);\n};\n\nFilledTextFields.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nvar CardDef = withStyles(styles)(FilledTextFields);\nexport default connect(null, mapActionsToProps)(CardDef);","map":{"version":3,"sources":["/home/shehand/Documents/Noetic-Usecase/creditcard-validator/src/Component/cardDetails.js"],"names":["React","PropTypes","withStyles","TextField","connect","swapCard","updateCardValues","bindActionCreators","creditCardValidator","NumberFormat","styles","theme","container","display","flexWrap","textField","marginLeft","spacing","unit","marginRight","dense","marginTop","menu","width","FilledTextFields","state","specialText_cardNumber","specialText_cardName","specialText_cardDate","specialText_carCVC","error_state","cardImage","cardNumber","error","handleChange","event","name","target","re","value","test","console","log","payload","props","onKeyDown","keyCode","onClickOnTextField","str","cardNumber2","toString","length","setState","specialText","_id","id","callValidator","expireDate_str","expireDate","date","i","charAt","creditCard","classes","cardNum","length_cardNum","dateNum","length_date","cvc","securityCode","length_cvc","margin","shrink","e","Math","max","parseInt","slice","Component","mapActionsToProps","dispatch","propTypes","object","isRequired","CardDef"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,oCAAzB;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,OAAOC,YAAP,MAAyB,qBAAzB;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,OAAO,EAAE,MADA;AAETC,MAAAA,QAAQ,EAAE;AAFD,KADY;AAKvBC,IAAAA,SAAS,EAAE;AACTC,MAAAA,UAAU,EAAEL,KAAK,CAACM,OAAN,CAAcC,IADjB;AAETC,MAAAA,WAAW,EAAER,KAAK,CAACM,OAAN,CAAcC;AAFlB,KALY;AASvBE,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE;AADN,KATgB;AAYvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH;AAZiB,GAAL;AAAA,CAApB;;IAiBMC,gB;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,sBAAsB,EAAE,EADlB;AAENC,MAAAA,oBAAoB,EAAE,EAFhB;AAGNC,MAAAA,oBAAoB,EAAE,EAHhB;AAINC,MAAAA,kBAAkB,EAAE,EAJd;AAKNC,MAAAA,WAAW,EAAE,KALP;AAMNC,MAAAA,SAAS,EAAE,EANL;AAONC,MAAAA,UAAU,EAAE,CAPN;AAQNC,MAAAA,KAAK,EAAE;AARD,K;;UAWRC,Y,GAAe,UAAAC,KAAK,EAAI;AACtB,UAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB;AACA,UAAME,EAAE,GAAG,YAAX;;AACA,UACE,CAACH,KAAK,CAACE,MAAN,CAAaE,KAAb,KAAuB,EAAvB,IAA6BD,EAAE,CAACE,IAAH,CAAQL,KAAK,CAACE,MAAN,CAAaE,KAArB,CAA9B,KACAH,IAAI,KAAK,YAFX,EAGE;AACA,YAAIG,KAAK,GAAGJ,KAAK,CAACE,MAAN,CAAaE,KAAzB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,YAAII,OAAO,GAAG;AACZP,UAAAA,IAAI,EAAEA,IADM;AAEZG,UAAAA,KAAK,EAAEA;AAFK,SAAd;;AAIA,cAAKK,KAAL,CAAWtC,gBAAX,CAA4BqC,OAA5B;AACD;;AACD,UAAIP,IAAI,KAAK,UAAb,EAAyB;AACvBO,QAAAA,OAAO,GAAG;AACRP,UAAAA,IAAI,EAAEA,IADE;AAERG,UAAAA,KAAK,EAAEJ,KAAK,CAACE,MAAN,CAAaE;AAFZ,SAAV;;AAIA,cAAKK,KAAL,CAAWtC,gBAAX,CAA4BqC,OAA5B;AACD;;AACD,UAAIP,IAAI,KAAK,YAAb,EAA2B;AACzBO,QAAAA,OAAO,GAAG;AACRP,UAAAA,IAAI,EAAEA,IADE;AAERG,UAAAA,KAAK,EAAEJ,KAAK,CAACE,MAAN,CAAaE;AAFZ,SAAV;;AAIA,cAAKK,KAAL,CAAWtC,gBAAX,CAA4BqC,OAA5B;AACD;;AACD,UAAIP,IAAI,KAAK,kBAAb,EAAiC;AAC/BO,QAAAA,OAAO,GAAG;AACRP,UAAAA,IAAI,EAAEA,IADE;AAERG,UAAAA,KAAK,EAAEJ,KAAK,CAACE,MAAN,CAAaE;AAFZ,SAAV;;AAIA,cAAKK,KAAL,CAAWtC,gBAAX,CAA4BqC,OAA5B;AACD;AACF,K;;UAEDE,S,GAAY,UAAAV,KAAK,EAAI;AACnB,UAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB;;AACA,UAAID,KAAK,CAACW,OAAN,KAAkB,CAAtB,EAAyB;AACvB,YAAIH,OAAO,GAAG;AACZP,UAAAA,IAAI,EAAEA,IADM;AAEZG,UAAAA,KAAK,EAAE;AAFK,SAAd;;AAIA,cAAKK,KAAL,CAAWtC,gBAAX,CAA4BqC,OAA5B;AACD;AACF,K;;UAEDI,kB,GAAqB,UAAAZ,KAAK,EAAI;AAC5B,UAAIa,GAAG,GAAG,MAAKJ,KAAL,CAAWK,WAAX,CAAuBC,QAAvB,EAAV;;AACA,UAAIF,GAAG,CAACG,MAAJ,GAAa,EAAjB,EAAqB;AACnBV,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,cAAKU,QAAL,CAAc;AAAErB,UAAAA,SAAS,EAAE,EAAb;AAAiBsB,UAAAA,WAAW,EAAE;AAA9B,SAAd;AACD;;AACD,UAAIC,GAAG,GAAGnB,KAAK,CAACE,MAAN,CAAakB,EAAvB;;AACA,YAAKH,QAAL,CAAc;AACZG,QAAAA,EAAE,EAAED;AADQ,OAAd;;AAGA,YAAKV,KAAL,CAAWvC,QAAX,CAAoB;AAAEkD,QAAAA,EAAE,EAAED;AAAN,OAApB;AACD,K;;UAEDE,a,GAAgB,UAAArB,KAAK,EAAI;AACvB,UAAIC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB;AACA,UAAIqB,cAAc,GAAG,MAAKb,KAAL,CAAWc,UAAhC;AACA,UAAIC,IAAI,GAAG,EAAX;;AAEA,UAAIF,cAAc,CAACN,MAAf,KAA0B,CAA9B,EAAiC;AAC/B,aAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,cAAc,CAACN,MAAnC,EAA2CS,CAAC,EAA5C,EAAgD;AAC9CD,UAAAA,IAAI,IAAIF,cAAc,CAACI,MAAf,CAAsBD,CAAtB,CAAR;;AACA,cAAIA,CAAC,KAAK,CAAV,EAAa;AACXD,YAAAA,IAAI,IAAI,GAAR;AACD;AACF;AACF;;AACD,UAAIG,UAAU,GAAG;AACfvB,QAAAA,KAAK,EAAE,MAAKK,KAAL,CAAWK,WADH;AAEfb,QAAAA,IAAI,EAAEA;AAFS,OAAjB;;AAIA,UAAIY,GAAG,GAAG,MAAKJ,KAAL,CAAWK,WAAX,CAAuBC,QAAvB,EAAV;;AAEA,UAAId,IAAI,KAAK,YAAb,EAA2B;AACzB,YAAI,CAAC5B,mBAAmB,CAACsD,UAAD,CAAxB,EAAsC;AACpC,gBAAKV,QAAL,CAAc;AACZ1B,YAAAA,sBAAsB,EAAE,gBADZ;AAEZI,YAAAA,WAAW,EAAE,IAFD;AAGZG,YAAAA,KAAK,EAAE;AAHK,WAAd;AAKD,SAND,MAMO;AACL,gBAAKmB,QAAL,CAAc;AAAE1B,YAAAA,sBAAsB,EAAE,EAA1B;AAA8BI,YAAAA,WAAW,EAAE;AAA3C,WAAd;;AACA,cAAIkB,GAAG,CAACa,MAAJ,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACzB,kBAAKT,QAAL,CAAc;AACZrB,cAAAA,SAAS,EAAE;AADC,aAAd;AAGD;;AACD,cAAIiB,GAAG,CAACa,MAAJ,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACzB,kBAAKT,QAAL,CAAc;AACZrB,cAAAA,SAAS,EAAE;AADC,aAAd;AAGD;AACF;AACF;;AACD,UAAIK,IAAI,KAAK,UAAb,EAAyB;AACvBK,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,KAAK,CAACE,MAAN,CAAaE,KAAb,CAAmBY,MAA5C;;AACA,YAAIhB,KAAK,CAACE,MAAN,CAAaE,KAAb,CAAmBY,MAAnB,KAA8B,CAAlC,EAAqC;AACnC,gBAAKC,QAAL,CAAc;AACZzB,YAAAA,oBAAoB,EAAE,kBADV;AAEZG,YAAAA,WAAW,EAAE,IAFD;AAGZG,YAAAA,KAAK,EAAE;AAHK,WAAd;AAKD,SAND,MAMO;AACL,gBAAKmB,QAAL,CAAc;AACZzB,YAAAA,oBAAoB,EAAE,EADV;AAEZG,YAAAA,WAAW,EAAE,KAFD;AAGZG,YAAAA,KAAK,EAAE;AAHK,WAAd;AAKD;AACF;;AACD,UAAIG,IAAI,KAAK,YAAb,EAA2B;AACzB0B,QAAAA,UAAU,GAAG;AACXvB,UAAAA,KAAK,EAAEoB,IADI;AAEXvB,UAAAA,IAAI,EAAEA;AAFK,SAAb;;AAIA,YAAI,CAAC5B,mBAAmB,CAACsD,UAAD,CAAxB,EAAsC;AACpC,gBAAKV,QAAL,CAAc;AACZxB,YAAAA,oBAAoB,EAAE,cADV;AAEZE,YAAAA,WAAW,EAAE,IAFD;AAGZG,YAAAA,KAAK,EAAE;AAHK,WAAd;AAKD,SAND,MAMO;AACL,gBAAKmB,QAAL,CAAc;AACZxB,YAAAA,oBAAoB,EAAE,EADV;AAEZE,YAAAA,WAAW,EAAE,KAFD;AAGZG,YAAAA,KAAK,EAAE;AAHK,WAAd;AAKD;AACF;;AACD,UAAIG,IAAI,KAAK,kBAAb,EAAiC,CAChC;AACF,K;;;;;;;6BAEQ;AAAA,UACC2B,OADD,GACa,KAAKnB,KADlB,CACCmB,OADD;AAEP,UAAIC,OAAO,GAAG,KAAKpB,KAAL,CAAWK,WAAX,CAAuBC,QAAvB,EAAd;AACA,UAAIe,cAAc,GAAGD,OAAO,CAACb,MAA7B;AAEA,UAAIe,OAAO,GAAG,KAAKtB,KAAL,CAAWc,UAAX,CAAsBR,QAAtB,EAAd;AACA,UAAIiB,WAAW,GAAGD,OAAO,CAACf,MAA1B;AAEA,UAAIiB,GAAG,GAAG,KAAKxB,KAAL,CAAWyB,YAAX,CAAwBnB,QAAxB,EAAV;AACA,UAAIoB,UAAU,GAAGF,GAAG,CAACjB,MAArB;AAEA,aACE;AAAM,QAAA,SAAS,EAAEY,OAAO,CAACnD,SAAzB;AAAoC,QAAA,UAAU,MAA9C;AAA+C,QAAA,YAAY,EAAC,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,YADL;AAEE,QAAA,KAAK,EAAC,aAFR;AAGE,QAAA,IAAI,EAAC,YAHP;AAIE,QAAA,IAAI,EAAC,QAJP;AAKE,QAAA,KAAK,EAAE;AAAE2D,UAAAA,MAAM,EAAE;AAAV,SALT;AAME,QAAA,WAAW,EAAC,aANd;AAOE,QAAA,SAAS,MAPX;AAQE,QAAA,MAAM,EAAC,QART;AASE,QAAA,OAAO,EAAC,UATV;AAUE,QAAA,eAAe,EAAE;AACfC,UAAAA,MAAM,EAAE;AADO,SAVnB;AAaE,QAAA,OAAO,EAAE,KAAKzB,kBAbhB;AAcE,QAAA,QAAQ,EAAE,KAAKb,YAdjB;AAeE,QAAA,MAAM,EAAE,KAAKsB,aAff;AAgBE,QAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW4B,WAhBzB;AAiBE,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWK,WAjBpB;AAkBE,QAAA,OAAO,EAAE,iBAAA2C,CAAC,EAAI;AACZA,UAAAA,CAAC,CAACpC,MAAF,CAASE,KAAT,GAAiBmC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYC,QAAQ,CAACH,CAAC,CAACpC,MAAF,CAASE,KAAV,CAApB,EACdW,QADc,GAEd2B,KAFc,CAER,CAFQ,EAEL,EAFK,CAAjB;AAGD,SAtBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EA0BE;AAAK,QAAA,GAAG,EAAE,KAAKpD,KAAL,CAAWM,SAArB;AAAgC,QAAA,GAAG,EAAC,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA1BF,EA4BE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,cADL;AAEE,QAAA,KAAK,EAAC,MAFR;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAE;AAAEwC,UAAAA,MAAM,EAAE;AAAV,SAJT;AAKE,QAAA,WAAW,EAAC,aALd;AAME,QAAA,SAAS,MANX;AAOE,QAAA,MAAM,EAAC,QAPT;AAQE,QAAA,OAAO,EAAC,UARV;AASE,QAAA,eAAe,EAAE;AACfC,UAAAA,MAAM,EAAE;AADO,SATnB;AAYE,QAAA,OAAO,EAAE,KAAKzB,kBAZhB;AAaE,QAAA,MAAM,EAAE,KAAKS,aAbf;AAcE,QAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW4B,WAdzB;AAeE,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWK,WAfpB;AAgBE,QAAA,QAAQ,EAAE,KAAKI,YAhBjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,EA+CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,cADL;AAEE,QAAA,KAAK,EAAC,aAFR;AAGE,QAAA,IAAI,EAAC,YAHP;AAIE,QAAA,SAAS,EAAE6B,OAAO,CAAChD,SAJrB;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAOE,QAAA,OAAO,EAAE,KAAKgC,kBAPhB;AAQE,QAAA,MAAM,EAAE,KAAKS,aARf;AASE,QAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW4B,WATzB;AAUE,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWK,WAVpB;AAWE,QAAA,QAAQ,EAAE,KAAKI,YAXjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,EAAE,EAAC,OADL;AAEE,QAAA,KAAK,EAAC,KAFR;AAGE,QAAA,IAAI,EAAC,kBAHP;AAIE,QAAA,SAAS,EAAE6B,OAAO,CAAChD,SAJrB;AAKE,QAAA,MAAM,EAAC,QALT;AAME,QAAA,OAAO,EAAC,UANV;AAOE,QAAA,OAAO,EAAE,KAAKgC,kBAPhB;AAQE,QAAA,MAAM,EAAE,KAAKS,aARf;AASE,QAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW4B,WATzB;AAUE,QAAA,KAAK,EAAE,KAAK5B,KAAL,CAAWK,WAVpB;AAWE,QAAA,QAAQ,EAAE,KAAKI,YAXjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAhBF,CADF,CA/CF,CADF;AAoFD;;;;EAxP4BlC,KAAK,CAAC8E,S;;AA0PrC,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAWpC,KAAX,EAAqB;AAC7CH,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,SAAOnC,kBAAkB,CACvB;AACEF,IAAAA,QAAQ,EAAEA,QADZ;AAEEC,IAAAA,gBAAgB,EAAEA;AAFpB,GADuB,EAKvB0E,QALuB,CAAzB;AAOD,CATD;;AAWAxD,gBAAgB,CAACyD,SAAjB,GAA6B;AAC3BlB,EAAAA,OAAO,EAAE9D,SAAS,CAACiF,MAAV,CAAiBC;AADC,CAA7B;AAIA,IAAMC,OAAO,GAAGlF,UAAU,CAACQ,MAAD,CAAV,CAAmBc,gBAAnB,CAAhB;AAEA,eAAepB,OAAO,CACpB,IADoB,EAEpB2E,iBAFoB,CAAP,CAGbK,OAHa,CAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { connect } from \"react-redux\";\nimport { swapCard } from \"../action/textfield-onclick-action\";\nimport { updateCardValues } from \"../action/update-cardvalue-action\";\nimport { bindActionCreators } from \"redux\";\nimport { creditCardValidator } from \"../service/validator\";\nimport NumberFormat from \"react-number-format\";\nconst styles = theme => ({\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  textField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  dense: {\n    marginTop: 16\n  },\n  menu: {\n    width: 200\n  }\n});\n\nclass FilledTextFields extends React.Component {\n  state = {\n    specialText_cardNumber: \"\",\n    specialText_cardName: \"\",\n    specialText_cardDate: \"\",\n    specialText_carCVC: \"\",\n    error_state: false,\n    cardImage: \"\",\n    cardNumber: 0,\n    error: false\n  };\n\n  handleChange = event => {\n    var name = event.target.name;\n    const re = /^[0-9\\b]+$/;\n    if (\n      (event.target.value === \"\" || re.test(event.target.value)) &&\n      name === \"cardNumber\"\n    ) {\n      let value = event.target.value;\n      console.log(value);\n      var payload = {\n        name: name,\n        value: value\n      };\n      this.props.updateCardValues(payload);\n    }\n    if (name === \"cardName\") {\n      payload = {\n        name: name,\n        value: event.target.value\n      };\n      this.props.updateCardValues(payload);\n    }\n    if (name === \"expireDate\") {\n      payload = {\n        name: name,\n        value: event.target.value\n      };\n      this.props.updateCardValues(payload);\n    }\n    if (name === \"cardSecurityCode\") {\n      payload = {\n        name: name,\n        value: event.target.value\n      };\n      this.props.updateCardValues(payload);\n    }\n  };\n\n  onKeyDown = event => {\n    var name = event.target.name;\n    if (event.keyCode === 8) {\n      var payload = {\n        name: name,\n        value: 0\n      };\n      this.props.updateCardValues(payload);\n    }\n  };\n\n  onClickOnTextField = event => {\n    var str = this.props.cardNumber2.toString();\n    if (str.length < 16) {\n      console.log(\"onclick\");\n      this.setState({ cardImage: \"\", specialText: \"\" });\n    }\n    var _id = event.target.id;\n    this.setState({\n      id: _id\n    });\n    this.props.swapCard({ id: _id });\n  };\n\n  callValidator = event => {\n    var name = event.target.name;\n    var expireDate_str = this.props.expireDate;\n    var date = \"\";\n\n    if (expireDate_str.length === 4) {\n      for (let i = 0; i < expireDate_str.length; i++) {\n        date += expireDate_str.charAt(i);\n        if (i === 1) {\n          date += \"/\";\n        }\n      }\n    }\n    var creditCard = {\n      value: this.props.cardNumber2,\n      name: name\n    };\n    var str = this.props.cardNumber2.toString();\n\n    if (name === \"cardNumber\") {\n      if (!creditCardValidator(creditCard)) {\n        this.setState({\n          specialText_cardNumber: \"invalid number\",\n          error_state: true,\n          error: true\n        });\n      } else {\n        this.setState({ specialText_cardNumber: \"\", error_state: false });\n        if (str.charAt(0) === \"4\") {\n          this.setState({\n            cardImage: \"https://img.icons8.com/color/48/000000/visa.png\"\n          });\n        }\n        if (str.charAt(0) === \"5\") {\n          this.setState({\n            cardImage: \"https://img.icons8.com/color/48/000000/mastercard.png\"\n          });\n        }\n      }\n    }\n    if (name === \"cardName\") {\n      console.log(\"card name\", event.target.value.length);\n      if (event.target.value.length === 0) {\n        this.setState({\n          specialText_cardName: \"Name is required\",\n          error_state: true,\n          error: true\n        });\n      } else {\n        this.setState({\n          specialText_cardName: \"\",\n          error_state: false,\n          error: false\n        });\n      }\n    }\n    if (name === \"expireDate\") {\n      creditCard = {\n        value: date,\n        name: name\n      };\n      if (!creditCardValidator(creditCard)) {\n        this.setState({\n          specialText_cardDate: \"invalid date\",\n          error_state: true,\n          error: true\n        });\n      } else {\n        this.setState({\n          specialText_cardDate: \"\",\n          error_state: false,\n          error: false\n        });\n      }\n    }\n    if (name === \"cardSecurityCode\") {\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n    var cardNum = this.props.cardNumber2.toString();\n    var length_cardNum = cardNum.length;\n\n    var dateNum = this.props.expireDate.toString();\n    var length_date = dateNum.length;\n\n    var cvc = this.props.securityCode.toString();\n    var length_cvc = cvc.length;\n\n    return (\n      <form className={classes.container} noValidate autoComplete=\"off\">\n        <TextField\n          id=\"cardNumber\"\n          label=\"Card Number\"\n          name=\"cardNumber\"\n          type=\"number\"\n          style={{ margin: 8 }}\n          placeholder=\"Placeholder\"\n          fullWidth\n          margin=\"normal\"\n          variant=\"outlined\"\n          InputLabelProps={{\n            shrink: true\n          }}\n          onClick={this.onClickOnTextField}\n          onChange={this.handleChange}\n          onBlur={this.callValidator}\n          helperText={this.state.specialText}\n          error={this.state.error_state}\n          onInput={e => {\n            e.target.value = Math.max(0, parseInt(e.target.value))\n              .toString()\n              .slice(0, 16);\n          }}\n        />\n\n        <img src={this.state.cardImage} alt=\"Card-Type\" />\n\n        <TextField\n          id=\"filled-dense\"\n          label=\"Name\"\n          name=\"cardName\"\n          style={{ margin: 8 }}\n          placeholder=\"Placeholder\"\n          fullWidth\n          margin=\"normal\"\n          variant=\"outlined\"\n          InputLabelProps={{\n            shrink: true\n          }}\n          onClick={this.onClickOnTextField}\n          onBlur={this.callValidator}\n          helperText={this.state.specialText}\n          error={this.state.error_state}\n          onChange={this.handleChange}\n        />\n\n        <table>\n          <tr>\n            <td>\n              <TextField\n                id=\"filled-dense\"\n                label=\"Expire Date\"\n                name=\"expireDate\"\n                className={classes.textField}\n                margin=\"normal\"\n                variant=\"outlined\"\n                onClick={this.onClickOnTextField}\n                onBlur={this.callValidator}\n                helperText={this.state.specialText}\n                error={this.state.error_state}\n                onChange={this.handleChange}\n              />\n            </td>\n            <td>\n              <TextField\n                id=\"dense\"\n                label=\"CVC\"\n                name=\"cardSecurityCode\"\n                className={classes.textField}\n                margin=\"normal\"\n                variant=\"outlined\"\n                onClick={this.onClickOnTextField}\n                onBlur={this.callValidator}\n                helperText={this.state.specialText}\n                error={this.state.error_state}\n                onChange={this.handleChange}\n              />\n            </td>\n          </tr>\n        </table>\n      </form>\n    );\n  }\n}\nconst mapActionsToProps = (dispatch, props) => {\n  console.log(\"dispatch calling\");\n  return bindActionCreators(\n    {\n      swapCard: swapCard,\n      updateCardValues: updateCardValues\n    },\n    dispatch\n  );\n};\n\nFilledTextFields.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nconst CardDef = withStyles(styles)(FilledTextFields);\n\nexport default connect(\n  null,\n  mapActionsToProps\n)(CardDef);\n"]},"metadata":{},"sourceType":"module"}