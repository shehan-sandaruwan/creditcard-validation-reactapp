{"ast":null,"code":"import lunh from \"luhn\";\nimport cardDetails from \"../Component/cardDetails\";\nimport moment from \"moment\";\nexport var creditCardValidator = function creditCardValidator(creditCard) {\n  var luhn = lunh;\n\n  if (creditCard.name === \"cardNumber\") {\n    var is_valid = luhn.validate(creditCard.value.toString());\n    console.log(\"validator is calling\", is_valid);\n    return is_valid;\n  }\n\n  if (creditCard.name === \"expireDate\") {\n    var selectedDate = moment(creditCard.value, \"MM/YYYY\");\n    console.log(\"select\", selectedDate);\n    var now = new Date();\n    var currMonth = new Date(now.getFullYear(), now.getMonth(), 1).valueOf();\n\n    if (!/^\\s*(0?[1-9]|1[0-2])\\/(\\d\\d|\\d{4})\\s*$/.test(creditCard.value)) {\n      return false;\n    }\n\n    if (selectedDate <= currMonth) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  if (creditCard.name === \"cardSecurityCode\") {\n    if (!creditCard.value.length === 3 || !creditCard.value.length === 4) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};","map":{"version":3,"sources":["/home/shehand/Documents/Noetic-Usecase/creditcard-validator/src/service/validator.js"],"names":["lunh","cardDetails","moment","creditCardValidator","creditCard","luhn","name","is_valid","validate","value","toString","console","log","selectedDate","now","Date","currMonth","getFullYear","getMonth","valueOf","test","length"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,UAAU,EAAI;AAC/C,MAAIC,IAAI,GAAGL,IAAX;;AACA,MAAII,UAAU,CAACE,IAAX,KAAoB,YAAxB,EAAsC;AACpC,QAAIC,QAAQ,GAAGF,IAAI,CAACG,QAAL,CAAcJ,UAAU,CAACK,KAAX,CAAiBC,QAAjB,EAAd,CAAf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCL,QAApC;AACA,WAAOA,QAAP;AACD;;AACD,MAAIH,UAAU,CAACE,IAAX,KAAoB,YAAxB,EAAsC;AACpC,QAAIO,YAAY,GAAGX,MAAM,CAACE,UAAU,CAACK,KAAZ,EAAmB,SAAnB,CAAzB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,YAAtB;AACA,QAAIC,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,QAAIC,SAAS,GAAG,IAAID,IAAJ,CAASD,GAAG,CAACG,WAAJ,EAAT,EAA4BH,GAAG,CAACI,QAAJ,EAA5B,EAA4C,CAA5C,EAA+CC,OAA/C,EAAhB;;AACA,QAAI,CAAC,yCAAyCC,IAAzC,CAA8ChB,UAAU,CAACK,KAAzD,CAAL,EAAsE;AACpE,aAAO,KAAP;AACD;;AACD,QAAII,YAAY,IAAIG,SAApB,EAA+B;AAC7B,aAAO,KAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF;;AACD,MAAIZ,UAAU,CAACE,IAAX,KAAoB,kBAAxB,EAA4C;AAC1C,QAAI,CAACF,UAAU,CAACK,KAAX,CAAiBY,MAAlB,KAA6B,CAA7B,IAAkC,CAACjB,UAAU,CAACK,KAAX,CAAiBY,MAAlB,KAA6B,CAAnE,EAAsE;AACpE,aAAO,KAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF;AACF,CA5BM","sourcesContent":["import lunh from \"luhn\";\nimport cardDetails from \"../Component/cardDetails\";\nimport moment from \"moment\";\n\nexport const creditCardValidator = creditCard => {\n  var luhn = lunh;\n  if (creditCard.name === \"cardNumber\") {\n    var is_valid = luhn.validate(creditCard.value.toString());\n    console.log(\"validator is calling\", is_valid);\n    return is_valid;\n  }\n  if (creditCard.name === \"expireDate\") {\n    var selectedDate = moment(creditCard.value, \"MM/YYYY\");\n    console.log(\"select\", selectedDate);\n    var now = new Date();\n    var currMonth = new Date(now.getFullYear(), now.getMonth(), 1).valueOf();\n    if (!/^\\s*(0?[1-9]|1[0-2])\\/(\\d\\d|\\d{4})\\s*$/.test(creditCard.value)) {\n      return false;\n    }\n    if (selectedDate <= currMonth) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  if (creditCard.name === \"cardSecurityCode\") {\n    if (!creditCard.value.length === 3 || !creditCard.value.length === 4) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}